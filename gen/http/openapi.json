{"swagger":"2.0","info":{"title":"REST api for simple route app","version":""},"host":"localhost:80","consumes":["application/json","application/xml","application/gob"],"produces":["application/json","application/xml","application/gob"],"paths":{"/api/admin/driver":{"post":{"tags":["admin_service"],"summary":"add_manager admin_service","description":"admins could add drivers from main system\n\n**Required security scopes for jwt**:\n  * `admin`","operationId":"admin_service#add_manager","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":false,"type":"string"},{"name":"add_manager_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/AdminServiceAddManagerRequestBody","required":["login","password"]}}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"403":{"description":"Forbidden response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/admin/driver/{manager_id}":{"delete":{"tags":["admin_service"],"summary":"drop_manager admin_service","description":"admins could delete managers from main system\n\n**Required security scopes for jwt**:\n  * `admin`","operationId":"admin_service#drop_manager","parameters":[{"name":"manager_id","in":"path","description":"id менеджера, которого необходимо удалить","required":true,"type":"string","format":"uuid"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":false,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"403":{"description":"Forbidden response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response."}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/profile":{"get":{"tags":["auth_service"],"summary":"profile auth_service","description":"get user profile","operationId":"auth_service#profile","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/signin":{"post":{"tags":["auth_service"],"summary":"signin auth_service","description":"Creates a valid JWT","operationId":"auth_service#signin","parameters":[{"name":"Authorization","in":"header","description":"Basic Auth security using Basic scheme (https://tools.ietf.org/html/rfc7617)","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/AuthServiceSigninResponseBody","required":["jwt"]}},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"basic_header_Authorization":[]}]}},"/api/tasks/":{"get":{"tags":["tasks_service"],"summary":"list tasks tasks_service","description":"получить все задачи для текущего пользователя","operationId":"tasks_service#list tasks","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/draft":{"post":{"tags":["tasks_service"],"summary":"create task draft tasks_service","description":"создать драфт задачи","operationId":"tasks_service#create task draft","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"},{"name":"Create Task DraftRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/TasksServiceCreateTaskDraftRequestBody","required":["title","text_template","post_image"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"string","format":"uuid"}},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/":{"get":{"tags":["tasks_service"],"summary":"get task tasks_service","description":"получить задачу по id","operationId":"tasks_service#get task","parameters":[{"name":"task_id","in":"path","description":"id задачи","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/start":{"post":{"tags":["tasks_service"],"summary":"start task tasks_service","description":"начать выполнение задачи ","operationId":"tasks_service#start task","parameters":[{"name":"task_id","in":"path","description":"id задачи","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/stop":{"post":{"tags":["tasks_service"],"summary":"stop task tasks_service","description":"остановить выполнение задачи ","operationId":"tasks_service#stop task","parameters":[{"name":"task_id","in":"path","description":"id задачи","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/upload":{"post":{"tags":["tasks_service"],"summary":"upload file tasks_service","description":"загрузить файл с пользователями, прокси","operationId":"tasks_service#upload file","consumes":["multipart/form-data"],"parameters":[{"name":"task_id","in":"path","description":"id задачи, в которую загружаем пользователей/прокси","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"},{"name":"Upload FileRequestBody","in":"formData","required":true,"schema":{"$ref":"#/definitions/TasksServiceUploadFileRequestBody","required":["bots","proxies","targets"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"$ref":"#/definitions/UploadErrorResponse"}}},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}}},"definitions":{"AdminServiceAddManagerRequestBody":{"title":"AdminServiceAddManagerRequestBody","type":"object","properties":{"login":{"type":"string","example":"Rerum veniam dolorem perspiciatis."},"password":{"type":"string","example":"ja6","minLength":4}},"example":{"login":"Consequuntur non blanditiis.","password":"y77"},"required":["login","password"]},"AuthServiceSigninResponseBody":{"title":"AuthServiceSigninResponseBody","type":"object","properties":{"jwt":{"type":"string","description":"JWT token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"}},"example":{"jwt":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"},"required":["jwt"]},"BotAccountRequestBody":{"title":"BotAccountRequestBody","type":"object","properties":{"advertising_id":{"type":"string","description":"adv id","example":"AC77D914-0A36-9917-2BA7-F519556A50B8","format":"uuid"},"device_id":{"type":"string","description":"main id, ex: android-0d735e1f4db26782","example":"Eos accusantium enim et aliquid nihil maiores."},"family_device_id":{"type":"string","example":"A129B534-C1FC-F09D-BF29-3DA5781E0ECB","format":"uuid"},"headers":{"type":"object","example":{"Nam sapiente dolor tempora.":"Exercitationem facilis recusandae."},"additionalProperties":{"type":"string","example":"Fugiat ut odio minus doloremque architecto."}},"password":{"type":"string","description":"login","example":"Facere natus."},"phone_id":{"type":"string","description":"phone_id","example":"95545D09-3153-0F17-09F7-7FEB1545D780","format":"uuid"},"user_agent":{"type":"string","description":"user agent header","example":"Aut perspiciatis error sit ea dicta vel."},"username":{"type":"string","description":"login","example":"Itaque reiciendis."},"uuid":{"type":"string","example":"A45D83CF-F038-77BB-220E-D79EFC31D198","format":"uuid"}},"example":{"advertising_id":"AB12B85B-1864-53B4-4A92-3519B45D0D5E","device_id":"Nam fugit expedita.","family_device_id":"0E0CB887-B526-812D-F285-DE018C555BB8","headers":{"Doloribus qui.":"Iusto facere ut et sed."},"password":"Temporibus officia.","phone_id":"0C589E55-99C1-3ED8-809A-1463C91242B6","user_agent":"Magnam voluptatem nesciunt quaerat quasi incidunt sed.","username":"Corrupti saepe et ipsam fuga est.","uuid":"4CCDE767-7648-444F-D09F-4B4FFE4EB36B"},"required":["username","password","user_agent","device_id","uuid","phone_id","advertising_id","family_device_id","headers"]},"ProxyRequestBody":{"title":"ProxyRequestBody","type":"object","properties":{"host":{"type":"string","description":"адрес прокси","example":"Aut velit delectus qui."},"login":{"type":"string","example":"Et quas est."},"password":{"type":"string","example":"Saepe assumenda."},"port":{"type":"integer","description":"номер порта","example":622089363346007223,"format":"int64"}},"example":{"host":"Sapiente vero libero sunt eos aut laborum.","login":"Commodi vel.","password":"Et quis id repellat.","port":5071709443716736136},"required":["host","port","login","password"]},"TargetUserRequestBody":{"title":"TargetUserRequestBody","type":"object","properties":{"user_id":{"type":"integer","description":"instagram user id","example":6643404721621771717,"format":"int64"},"username":{"type":"string","description":"instagram username","example":"Aut qui corporis asperiores aperiam."}},"example":{"user_id":229270693049596798,"username":"Iusto et sit reprehenderit totam illum molestiae."},"required":["username","user_id"]},"TasksServiceCreateTaskDraftRequestBody":{"title":"TasksServiceCreateTaskDraftRequestBody","type":"object","properties":{"post_image":{"type":"string","description":"фотография для постов","example":"Nisi et."},"text_template":{"type":"string","description":"шаблон для подписи под постом","example":"Sed amet nemo quia est similique."},"title":{"type":"string","description":"название задачи","example":"Et molestias molestias."}},"example":{"post_image":"Voluptatem voluptas eos rerum maiores.","text_template":"Minima fugit nihil inventore.","title":"Aliquid laudantium tempore occaecati fugit id inventore."},"required":["title","text_template","post_image"]},"TasksServiceUploadFileRequestBody":{"title":"TasksServiceUploadFileRequestBody","type":"object","properties":{"bots":{"type":"array","items":{"$ref":"#/definitions/BotAccountRequestBody"},"description":"список ботов","example":[{"advertising_id":"7D80331A-7620-D09D-7CCB-2EF87B797732","device_id":"Tenetur sed ea excepturi delectus quasi.","family_device_id":"76FB876C-96AC-91E7-BD21-B0C2988DDF65","headers":{"Ducimus voluptate hic dicta impedit.":"Totam labore amet ut iure praesentium."},"password":"Quidem quis earum maxime omnis reiciendis adipisci.","phone_id":"1265498D-5A84-134A-1C7A-ED5B4B92788E","user_agent":"Perspiciatis autem quo.","username":"Autem est quia.","uuid":"5E3B665E-1239-9C12-9643-FFC1E6C04697"},{"advertising_id":"7D80331A-7620-D09D-7CCB-2EF87B797732","device_id":"Tenetur sed ea excepturi delectus quasi.","family_device_id":"76FB876C-96AC-91E7-BD21-B0C2988DDF65","headers":{"Ducimus voluptate hic dicta impedit.":"Totam labore amet ut iure praesentium."},"password":"Quidem quis earum maxime omnis reiciendis adipisci.","phone_id":"1265498D-5A84-134A-1C7A-ED5B4B92788E","user_agent":"Perspiciatis autem quo.","username":"Autem est quia.","uuid":"5E3B665E-1239-9C12-9643-FFC1E6C04697"},{"advertising_id":"7D80331A-7620-D09D-7CCB-2EF87B797732","device_id":"Tenetur sed ea excepturi delectus quasi.","family_device_id":"76FB876C-96AC-91E7-BD21-B0C2988DDF65","headers":{"Ducimus voluptate hic dicta impedit.":"Totam labore amet ut iure praesentium."},"password":"Quidem quis earum maxime omnis reiciendis adipisci.","phone_id":"1265498D-5A84-134A-1C7A-ED5B4B92788E","user_agent":"Perspiciatis autem quo.","username":"Autem est quia.","uuid":"5E3B665E-1239-9C12-9643-FFC1E6C04697"},{"advertising_id":"7D80331A-7620-D09D-7CCB-2EF87B797732","device_id":"Tenetur sed ea excepturi delectus quasi.","family_device_id":"76FB876C-96AC-91E7-BD21-B0C2988DDF65","headers":{"Ducimus voluptate hic dicta impedit.":"Totam labore amet ut iure praesentium."},"password":"Quidem quis earum maxime omnis reiciendis adipisci.","phone_id":"1265498D-5A84-134A-1C7A-ED5B4B92788E","user_agent":"Perspiciatis autem quo.","username":"Autem est quia.","uuid":"5E3B665E-1239-9C12-9643-FFC1E6C04697"}]},"proxies":{"type":"array","items":{"$ref":"#/definitions/ProxyRequestBody"},"description":"список проксей для использования","example":[{"host":"Eligendi accusantium enim.","login":"In et assumenda voluptate deleniti ut aut.","password":"Quod tenetur.","port":4440880418486248045},{"host":"Eligendi accusantium enim.","login":"In et assumenda voluptate deleniti ut aut.","password":"Quod tenetur.","port":4440880418486248045},{"host":"Eligendi accusantium enim.","login":"In et assumenda voluptate deleniti ut aut.","password":"Quod tenetur.","port":4440880418486248045}]},"targets":{"type":"array","items":{"$ref":"#/definitions/TargetUserRequestBody"},"description":"список аккаунтов, которым показать надо рекламу","example":[{"user_id":372918204077540257,"username":"Labore impedit repellat."},{"user_id":372918204077540257,"username":"Labore impedit repellat."},{"user_id":372918204077540257,"username":"Labore impedit repellat."}]}},"example":{"bots":[{"advertising_id":"7D80331A-7620-D09D-7CCB-2EF87B797732","device_id":"Tenetur sed ea excepturi delectus quasi.","family_device_id":"76FB876C-96AC-91E7-BD21-B0C2988DDF65","headers":{"Ducimus voluptate hic dicta impedit.":"Totam labore amet ut iure praesentium."},"password":"Quidem quis earum maxime omnis reiciendis adipisci.","phone_id":"1265498D-5A84-134A-1C7A-ED5B4B92788E","user_agent":"Perspiciatis autem quo.","username":"Autem est quia.","uuid":"5E3B665E-1239-9C12-9643-FFC1E6C04697"},{"advertising_id":"7D80331A-7620-D09D-7CCB-2EF87B797732","device_id":"Tenetur sed ea excepturi delectus quasi.","family_device_id":"76FB876C-96AC-91E7-BD21-B0C2988DDF65","headers":{"Ducimus voluptate hic dicta impedit.":"Totam labore amet ut iure praesentium."},"password":"Quidem quis earum maxime omnis reiciendis adipisci.","phone_id":"1265498D-5A84-134A-1C7A-ED5B4B92788E","user_agent":"Perspiciatis autem quo.","username":"Autem est quia.","uuid":"5E3B665E-1239-9C12-9643-FFC1E6C04697"}],"proxies":[{"host":"Eligendi accusantium enim.","login":"In et assumenda voluptate deleniti ut aut.","password":"Quod tenetur.","port":4440880418486248045},{"host":"Eligendi accusantium enim.","login":"In et assumenda voluptate deleniti ut aut.","password":"Quod tenetur.","port":4440880418486248045},{"host":"Eligendi accusantium enim.","login":"In et assumenda voluptate deleniti ut aut.","password":"Quod tenetur.","port":4440880418486248045}],"targets":[{"user_id":372918204077540257,"username":"Labore impedit repellat."},{"user_id":372918204077540257,"username":"Labore impedit repellat."},{"user_id":372918204077540257,"username":"Labore impedit repellat."}]},"required":["bots","proxies","targets"]},"UploadErrorResponse":{"title":"UploadErrorResponse","type":"object","properties":{"input":{"type":"string","description":"номер порта","example":"Inventore et temporibus voluptatibus aliquam."},"line":{"type":"integer","example":2538498034293375830,"format":"int64"},"reason":{"type":"string","example":"Incidunt nisi tempora enim."},"type":{"type":"integer","description":" 1 - список ботов\n    2 - список прокси\n    3 - список получателей рекламы","example":3,"enum":[1,2,3]}},"example":{"input":"Deserunt quas.","line":5874623428557586307,"reason":"Repudiandae laborum voluptatibus aliquid ipsam temporibus.","type":1},"required":["type","line","input","reason"]}},"securityDefinitions":{"basic_header_Authorization":{"type":"basic","description":"Basic authentication used to authenticate security principal during signin\n\n**Security Scopes**:\n  * `driver`: Read-only access"},"jwt_header_Authorization":{"type":"apiKey","description":"Secures endpoint by requiring a valid JWT token retrieved via the signin endpoint. Supports scopes \"api:read\" and \"api:write\".\n\n**Security Scopes**:\n  * `driver`: Read-only access\n  * `admin`: Read and write access","name":"Authorization","in":"header"}}}