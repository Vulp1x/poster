{"swagger":"2.0","info":{"title":"REST api for simple route app","version":""},"host":"localhost:80","consumes":["application/json","application/xml","application/gob"],"produces":["application/json","application/xml","application/gob"],"paths":{"/api/admin/driver":{"post":{"tags":["admin_service"],"summary":"add_manager admin_service","description":"admins could add drivers from main system\n\n**Required security scopes for jwt**:\n  * `admin`","operationId":"admin_service#add_manager","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":false,"type":"string"},{"name":"add_manager_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/AdminServiceAddManagerRequestBody","required":["login","password"]}}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"403":{"description":"Forbidden response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/admin/driver/{manager_id}":{"delete":{"tags":["admin_service"],"summary":"drop_manager admin_service","description":"admins could delete managers from main system\n\n**Required security scopes for jwt**:\n  * `admin`","operationId":"admin_service#drop_manager","parameters":[{"name":"manager_id","in":"path","description":"id менеджера, которого необходимо удалить","required":true,"type":"string","format":"uuid"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":false,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"403":{"description":"Forbidden response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response."}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/profile":{"get":{"tags":["auth_service"],"summary":"profile auth_service","description":"get user profile","operationId":"auth_service#profile","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/signin":{"post":{"tags":["auth_service"],"summary":"signin auth_service","description":"Creates a valid JWT","operationId":"auth_service#signin","parameters":[{"name":"Authorization","in":"header","description":"Basic Auth security using Basic scheme (https://tools.ietf.org/html/rfc7617)","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/AuthServiceSigninResponseBody","required":["jwt"]}},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"basic_header_Authorization":[]}]}},"/api/tasks/":{"get":{"tags":["tasks_service"],"summary":"list tasks tasks_service","description":"получить все задачи для текущего пользователя","operationId":"tasks_service#list tasks","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/draft":{"post":{"tags":["tasks_service"],"summary":"create task draft tasks_service","description":"создать драфт задачи","operationId":"tasks_service#create task draft","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"},{"name":"Create Task DraftRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/TasksServiceCreateTaskDraftRequestBody","required":["title","text_template","post_image"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"string","format":"uuid"}},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/":{"get":{"tags":["tasks_service"],"summary":"get task tasks_service","description":"получить задачу по id","operationId":"tasks_service#get task","parameters":[{"name":"task_id","in":"path","description":"id задачи","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/TasksServiceGetTaskOKResponseBody","required":["id","text_template","image","status","title","bots_num","proxies_num","targets_num","bots_filename","proxies_filename","targets_filename"]}},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/assign":{"post":{"tags":["tasks_service"],"summary":"assign proxies tasks_service","description":"присвоить ботам прокси","operationId":"tasks_service#assign proxies","parameters":[{"name":"task_id","in":"path","description":"id задачи","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"type":"integer","format":"int64"}},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/force":{"delete":{"tags":["tasks_service"],"summary":"force delete tasks_service","description":"удалить задачу и все связанные с ней сущности. Использовать только для тестов","operationId":"tasks_service#force delete","parameters":[{"name":"task_id","in":"path","description":"id задачи","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/start":{"post":{"tags":["tasks_service"],"summary":"start task tasks_service","description":"начать выполнение задачи ","operationId":"tasks_service#start task","parameters":[{"name":"task_id","in":"path","description":"id задачи","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/stop":{"post":{"tags":["tasks_service"],"summary":"stop task tasks_service","description":"остановить выполнение задачи ","operationId":"tasks_service#stop task","parameters":[{"name":"task_id","in":"path","description":"id задачи","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/upload":{"post":{"tags":["tasks_service"],"summary":"upload file tasks_service","description":"загрузить файл с пользователями, прокси","operationId":"tasks_service#upload file","consumes":["multipart/form-data"],"parameters":[{"name":"task_id","in":"path","description":"id задачи, в которую загружаем пользователей/прокси","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"},{"name":"Upload FileRequestBody","in":"formData","required":true,"schema":{"$ref":"#/definitions/TasksServiceUploadFileRequestBody","required":["bots","proxies","targets"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"$ref":"#/definitions/UploadErrorResponse"}}},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}}},"definitions":{"AdminServiceAddManagerRequestBody":{"title":"AdminServiceAddManagerRequestBody","type":"object","properties":{"login":{"type":"string","example":"Inventore et minima fugit nihil."},"password":{"type":"string","example":"c11","minLength":4}},"example":{"login":"Rerum maiores nostrum ratione accusantium inventore.","password":"58y"},"required":["login","password"]},"AuthServiceSigninResponseBody":{"title":"AuthServiceSigninResponseBody","type":"object","properties":{"jwt":{"type":"string","description":"JWT token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"}},"example":{"jwt":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"},"required":["jwt"]},"BotAccountRecordRequestBody":{"title":"BotAccountRecordRequestBody","type":"object","properties":{"line_number":{"type":"integer","description":"номер строки в исходном файле","example":620013996187731515,"format":"int64"},"record":{"type":"array","items":{"type":"string","example":"Quia et assumenda fugit."},"example":["Corrupti quidem et facilis.","Iusto harum rerum dignissimos.","Totam facilis quaerat voluptatem et dolore."],"minItems":4,"maxItems":4}},"example":{"line_number":5295797898263818579,"record":["Autem asperiores est aliquam.","In et consequatur corporis quis et.","Necessitatibus qui ducimus."]},"required":["record","line_number"]},"ProxyRecordRequestBody":{"title":"ProxyRecordRequestBody","type":"object","properties":{"line_number":{"type":"integer","description":"номер строки в исходном файле","example":7426705204254169780,"format":"int64"},"record":{"type":"array","items":{"type":"string","example":"Voluptatem maiores."},"example":["Iste ea facere ab dolorem.","Omnis voluptatem voluptas architecto.","Quia et omnis distinctio."],"minItems":4,"maxItems":4}},"example":{"line_number":8559576748371259006,"record":["Quidem et quasi soluta ab non.","Inventore itaque accusantium.","Eum laboriosam qui velit eum."]},"required":["record","line_number"]},"TargetUserRecordRequestBody":{"title":"TargetUserRecordRequestBody","type":"object","properties":{"line_number":{"type":"integer","description":"номер строки в исходном файле","example":6659033201357649187,"format":"int64"},"record":{"type":"array","items":{"type":"string","example":"Sint dolore consequatur animi quae et modi."},"example":["Ratione repellat dolores ab est exercitationem.","Sit nisi earum perspiciatis nobis cupiditate consequatur."],"minItems":2,"maxItems":2}},"example":{"line_number":5824088246007562486,"record":["Reprehenderit esse.","Placeat est dolore perferendis."]},"required":["record","line_number"]},"TasksServiceCreateTaskDraftRequestBody":{"title":"TasksServiceCreateTaskDraftRequestBody","type":"object","properties":{"post_image":{"type":"string","description":"фотография для постов","example":"Voluptatibus aliquid ipsam temporibus eius itaque reiciendis."},"text_template":{"type":"string","description":"шаблон для подписи под постом","example":"Maiores dicta deserunt quas doloremque repudiandae."},"title":{"type":"string","description":"название задачи","example":"Incidunt nisi tempora enim."}},"example":{"post_image":"Eos accusantium enim et aliquid nihil maiores.","text_template":"Aut perspiciatis error sit ea dicta vel.","title":"Facere natus."},"required":["title","text_template","post_image"]},"TasksServiceGetTaskNotFoundResponseBody":{"title":"TasksServiceGetTaskNotFoundResponseBody","type":"object","properties":{"bots_filename":{"type":"integer","description":"название файла, из которого брали ботов","example":3972177233627439626,"format":"int64"},"bots_num":{"type":"integer","description":"количество ботов в задаче","example":4991967111345638770,"format":"int64"},"id":{"type":"string","example":"7D80331A-7620-D09D-7CCB-2EF87B797732","format":"uuid"},"image":{"type":"string","description":"base64 строка картинки","example":"Ab asperiores."},"proxies_filename":{"type":"integer","description":"название файла, из которого брали прокси","example":7811361840532710475,"format":"int64"},"proxies_num":{"type":"integer","description":"количество прокси в задаче","example":7020942988740025641,"format":"int64"},"status":{"type":"integer","example":6697496776531982111,"format":"int64"},"targets_filename":{"type":"integer","description":"название файла, из которого брали целевых пользователей","example":1244400214050531499,"format":"int64"},"targets_num":{"type":"integer","description":"количество целевых пользователей в задаче","example":6884526851101334980,"format":"int64"},"text_template":{"type":"string","description":"описание под постом","example":"Asperiores aut debitis quo perferendis id dolor."},"title":{"type":"string","description":"название задачи","example":"Cupiditate sint dolor dicta quia commodi."}},"example":{"bots_filename":622089363346007223,"bots_num":3387656008307886502,"id":"76FB876C-96AC-91E7-BD21-B0C2988DDF65","image":"Qui et iusto facere ut.","proxies_filename":5210066314995698788,"proxies_num":4787775583937957817,"status":6204363711619208746,"targets_filename":7954579800572010626,"targets_num":5571822822166704640,"text_template":"Doloremque nemo iure.","title":"Magni non aut."},"required":["id","text_template","image","status","title","bots_num","proxies_num","targets_num","bots_filename","proxies_filename","targets_filename"]},"TasksServiceGetTaskOKResponseBody":{"title":"TasksServiceGetTaskOKResponseBody","type":"object","properties":{"bots_filename":{"type":"integer","description":"название файла, из которого брали ботов","example":2279339449841757770,"format":"int64"},"bots_num":{"type":"integer","description":"количество ботов в задаче","example":6168503855481431196,"format":"int64"},"id":{"type":"string","example":"5E3B665E-1239-9C12-9643-FFC1E6C04697","format":"uuid"},"image":{"type":"string","description":"base64 строка картинки","example":"Dolor tempora vel exercitationem."},"proxies_filename":{"type":"integer","description":"название файла, из которого брали прокси","example":3552414760953759976,"format":"int64"},"proxies_num":{"type":"integer","description":"количество прокси в задаче","example":2447293508214799351,"format":"int64"},"status":{"type":"integer","example":7756581103801481316,"format":"int64"},"targets_filename":{"type":"integer","description":"название файла, из которого брали целевых пользователей","example":8708563771737464144,"format":"int64"},"targets_num":{"type":"integer","description":"количество целевых пользователей в задаче","example":1722467994408844828,"format":"int64"},"text_template":{"type":"string","description":"описание под постом","example":"Odio minus doloremque architecto perferendis voluptas nam."},"title":{"type":"string","description":"название задачи","example":"Voluptatem corrupti saepe et ipsam fuga."}},"example":{"bots_filename":3445399707083969079,"bots_num":1505768735946772396,"id":"1265498D-5A84-134A-1C7A-ED5B4B92788E","image":"Et animi autem enim autem.","proxies_filename":2603831276114682950,"proxies_num":9190695477558308989,"status":384433836936519662,"targets_filename":5034676538335433828,"targets_num":8025648633855071924,"text_template":"Hic dicta veniam eum nemo corrupti.","title":"Amet assumenda quae non eaque corporis quasi."},"required":["id","text_template","image","status","title","bots_num","proxies_num","targets_num","bots_filename","proxies_filename","targets_filename"]},"TasksServiceGetTaskUnauthorizedResponseBody":{"title":"TasksServiceGetTaskUnauthorizedResponseBody","type":"object","properties":{"bots_filename":{"type":"integer","description":"название файла, из которого брали ботов","example":304567288801858074,"format":"int64"},"bots_num":{"type":"integer","description":"количество ботов в задаче","example":2525427640572649452,"format":"int64"},"id":{"type":"string","example":"A45D83CF-F038-77BB-220E-D79EFC31D198","format":"uuid"},"image":{"type":"string","description":"base64 строка картинки","example":"Veniam et amet saepe."},"proxies_filename":{"type":"integer","description":"название файла, из которого брали прокси","example":7042430995284262338,"format":"int64"},"proxies_num":{"type":"integer","description":"количество прокси в задаче","example":1544303140115761818,"format":"int64"},"status":{"type":"integer","example":1197743406563025942,"format":"int64"},"targets_filename":{"type":"integer","description":"название файла, из которого брали целевых пользователей","example":3927023834273110087,"format":"int64"},"targets_num":{"type":"integer","description":"количество целевых пользователей в задаче","example":7482866392658868470,"format":"int64"},"text_template":{"type":"string","description":"описание под постом","example":"Ut eligendi consequuntur nulla quasi ea."},"title":{"type":"string","description":"название задачи","example":"Incidunt optio consequatur et est."}},"example":{"bots_filename":8262625080806032462,"bots_num":848988800265795179,"id":"95545D09-3153-0F17-09F7-7FEB1545D780","image":"Modi vel qui sint animi ipsa.","proxies_filename":147178499010090748,"proxies_num":2476436781573789509,"status":2025980155796842787,"targets_filename":5728205418193779270,"targets_num":7610324382808250766,"text_template":"Amet sit dolores.","title":"Consequatur ad architecto aliquid reprehenderit quas."},"required":["id","text_template","image","status","title","bots_num","proxies_num","targets_num","bots_filename","proxies_filename","targets_filename"]},"TasksServiceUploadFileRequestBody":{"title":"TasksServiceUploadFileRequestBody","type":"object","properties":{"bots":{"type":"array","items":{"$ref":"#/definitions/BotAccountRecordRequestBody"},"description":"список ботов","example":[{"line_number":3891707058504905243,"record":["Maiores accusantium illum rem molestiae qui fugiat.","Sint quos cupiditate porro voluptatum neque.","Laboriosam minima eaque vero fugit occaecati voluptates."]},{"line_number":3891707058504905243,"record":["Maiores accusantium illum rem molestiae qui fugiat.","Sint quos cupiditate porro voluptatum neque.","Laboriosam minima eaque vero fugit occaecati voluptates."]}]},"proxies":{"type":"array","items":{"$ref":"#/definitions/ProxyRecordRequestBody"},"description":"список проксей для использования","example":[{"line_number":5216197663359156422,"record":["Magni maiores aliquid animi reiciendis magni.","Modi quo repellat nam quasi velit.","Labore nihil."]},{"line_number":5216197663359156422,"record":["Magni maiores aliquid animi reiciendis magni.","Modi quo repellat nam quasi velit.","Labore nihil."]},{"line_number":5216197663359156422,"record":["Magni maiores aliquid animi reiciendis magni.","Modi quo repellat nam quasi velit.","Labore nihil."]},{"line_number":5216197663359156422,"record":["Magni maiores aliquid animi reiciendis magni.","Modi quo repellat nam quasi velit.","Labore nihil."]}]},"targets":{"type":"array","items":{"$ref":"#/definitions/TargetUserRecordRequestBody"},"description":"список аккаунтов, которым показать надо рекламу","example":[{"line_number":8805248178777047561,"record":["Ex ab laudantium.","Quia accusamus laboriosam sit."]},{"line_number":8805248178777047561,"record":["Ex ab laudantium.","Quia accusamus laboriosam sit."]}]}},"example":{"bots":[{"line_number":3891707058504905243,"record":["Maiores accusantium illum rem molestiae qui fugiat.","Sint quos cupiditate porro voluptatum neque.","Laboriosam minima eaque vero fugit occaecati voluptates."]},{"line_number":3891707058504905243,"record":["Maiores accusantium illum rem molestiae qui fugiat.","Sint quos cupiditate porro voluptatum neque.","Laboriosam minima eaque vero fugit occaecati voluptates."]},{"line_number":3891707058504905243,"record":["Maiores accusantium illum rem molestiae qui fugiat.","Sint quos cupiditate porro voluptatum neque.","Laboriosam minima eaque vero fugit occaecati voluptates."]}],"proxies":[{"line_number":5216197663359156422,"record":["Magni maiores aliquid animi reiciendis magni.","Modi quo repellat nam quasi velit.","Labore nihil."]},{"line_number":5216197663359156422,"record":["Magni maiores aliquid animi reiciendis magni.","Modi quo repellat nam quasi velit.","Labore nihil."]}],"targets":[{"line_number":8805248178777047561,"record":["Ex ab laudantium.","Quia accusamus laboriosam sit."]},{"line_number":8805248178777047561,"record":["Ex ab laudantium.","Quia accusamus laboriosam sit."]},{"line_number":8805248178777047561,"record":["Ex ab laudantium.","Quia accusamus laboriosam sit."]}]},"required":["bots","proxies","targets"]},"UploadErrorResponse":{"title":"UploadErrorResponse","type":"object","properties":{"input":{"type":"string","description":"номер порта","example":"Labore velit et aut recusandae."},"line":{"type":"integer","example":8348368297891956169,"format":"int64"},"reason":{"type":"string","example":"Est sed."},"type":{"type":"integer","description":" 1 - список ботов\n    2 - список прокси\n    3 - список получателей рекламы","example":1,"enum":[1,2,3]}},"example":{"input":"Inventore dicta non.","line":6008517085391053057,"reason":"Eius dolores voluptas.","type":2},"required":["type","line","input","reason"]}},"securityDefinitions":{"basic_header_Authorization":{"type":"basic","description":"Basic authentication used to authenticate security principal during signin\n\n**Security Scopes**:\n  * `driver`: Read-only access"},"jwt_header_Authorization":{"type":"apiKey","description":"Secures endpoint by requiring a valid JWT token retrieved via the signin endpoint. Supports scopes \"api:read\" and \"api:write\".\n\n**Security Scopes**:\n  * `driver`: Read-only access\n  * `admin`: Read and write access","name":"Authorization","in":"header"}}}