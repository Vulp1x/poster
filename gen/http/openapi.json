{"swagger":"2.0","info":{"title":"REST api for simple route app","version":""},"host":"localhost:80","consumes":["application/json","application/xml","application/gob"],"produces":["application/json","application/xml","application/gob"],"paths":{"/api/admin/driver":{"post":{"tags":["admin_service"],"summary":"add_manager admin_service","description":"admins could add drivers from main system\n\n**Required security scopes for jwt**:\n  * `admin`","operationId":"admin_service#add_manager","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":false,"type":"string"},{"name":"add_manager_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/AdminServiceAddManagerRequestBody","required":["login","password"]}}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"403":{"description":"Forbidden response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/admin/driver/{manager_id}":{"delete":{"tags":["admin_service"],"summary":"drop_manager admin_service","description":"admins could delete managers from main system\n\n**Required security scopes for jwt**:\n  * `admin`","operationId":"admin_service#drop_manager","parameters":[{"name":"manager_id","in":"path","description":"id менеджера, которого необходимо удалить","required":true,"type":"string","format":"uuid"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":false,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"403":{"description":"Forbidden response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response."}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/profile":{"get":{"tags":["auth_service"],"summary":"profile auth_service","description":"get user profile","operationId":"auth_service#profile","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/signin":{"post":{"tags":["auth_service"],"summary":"signin auth_service","description":"Creates a valid JWT","operationId":"auth_service#signin","parameters":[{"name":"Authorization","in":"header","description":"Basic Auth security using Basic scheme (https://tools.ietf.org/html/rfc7617)","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/AuthServiceSigninResponseBody","required":["jwt"]}},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"basic_header_Authorization":[]}]}},"/api/tasks/":{"get":{"tags":["tasks_service"],"summary":"list tasks tasks_service","description":"получить все задачи для текущего пользователя","operationId":"tasks_service#list tasks","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/draft":{"post":{"tags":["tasks_service"],"summary":"create task draft tasks_service","description":"создать драфт задачи","operationId":"tasks_service#create task draft","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"},{"name":"Create Task DraftRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/TasksServiceCreateTaskDraftRequestBody","required":["title","text_template","post_image"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"string","format":"uuid"}},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/":{"get":{"tags":["tasks_service"],"summary":"get task tasks_service","description":"получить задачу по id","operationId":"tasks_service#get task","parameters":[{"name":"task_id","in":"path","description":"id задачи","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/start":{"post":{"tags":["tasks_service"],"summary":"start task tasks_service","description":"начать выполнение задачи ","operationId":"tasks_service#start task","parameters":[{"name":"task_id","in":"path","description":"id задачи","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/stop":{"post":{"tags":["tasks_service"],"summary":"stop task tasks_service","description":"остановить выполнение задачи ","operationId":"tasks_service#stop task","parameters":[{"name":"task_id","in":"path","description":"id задачи","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/upload":{"post":{"tags":["tasks_service"],"summary":"upload file tasks_service","description":"загрузить файл с пользователями, прокси","operationId":"tasks_service#upload file","consumes":["multipart/form-data"],"parameters":[{"name":"task_id","in":"path","description":"id задачи, в которую загружаем пользователей/прокси","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"},{"name":"Upload FileRequestBody","in":"formData","required":true,"schema":{"$ref":"#/definitions/TasksServiceUploadFileRequestBody","required":["bots","proxies","targets"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"$ref":"#/definitions/UploadErrorResponse"}}},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}}},"definitions":{"AdminServiceAddManagerRequestBody":{"title":"AdminServiceAddManagerRequestBody","type":"object","properties":{"login":{"type":"string","example":"Ut quae dolorem similique."},"password":{"type":"string","example":"3mz","minLength":4}},"example":{"login":"Odit accusamus officia ipsum.","password":"b0n"},"required":["login","password"]},"AuthServiceSigninResponseBody":{"title":"AuthServiceSigninResponseBody","type":"object","properties":{"jwt":{"type":"string","description":"JWT token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"}},"example":{"jwt":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"},"required":["jwt"]},"BotAccountRecordRequestBody":{"title":"BotAccountRecordRequestBody","type":"object","properties":{"line_number":{"type":"integer","description":"номер строки в исходном файле","example":805747189354476226,"format":"int64"},"record":{"type":"array","items":{"type":"string","example":"Totam labore amet ut iure praesentium."},"example":["Eligendi accusantium enim.","Ullam in."]}},"example":{"line_number":8997517691232061191,"record":["Deleniti ut aut atque quod tenetur rerum.","Labore impedit repellat.","Accusamus dolor rerum est velit optio quod.","Aut blanditiis dolore."]},"required":["record","line_number"]},"ProxyRecordRequestBody":{"title":"ProxyRecordRequestBody","type":"object","properties":{"line_number":{"type":"integer","description":"номер строки в исходном файле","example":4045927282778919969,"format":"int64"},"record":{"type":"array","items":{"type":"string","example":"Id omnis perspiciatis expedita architecto aut."},"example":["Provident voluptatem tempora culpa voluptas delectus voluptatem.","Iste et illum."]}},"example":{"line_number":7091889729056040715,"record":["Pariatur enim aut nobis aut eum enim.","Amet reiciendis dicta quibusdam neque dolores.","Sit sit voluptatem quo quo velit."]},"required":["record","line_number"]},"TargetUserRecordRequestBody":{"title":"TargetUserRecordRequestBody","type":"object","properties":{"line_number":{"type":"integer","description":"номер строки в исходном файле","example":8585427626504546023,"format":"int64"},"record":{"type":"array","items":{"type":"string","example":"Assumenda blanditiis."},"example":["Saepe quidem neque perspiciatis rerum explicabo.","Omnis reiciendis illo maiores dolorem quia."]}},"example":{"line_number":20116900574216398,"record":["Labore consequuntur explicabo perspiciatis et.","Cumque et.","Ea numquam.","Ut et iusto eum veniam."]},"required":["record","line_number"]},"TasksServiceCreateTaskDraftRequestBody":{"title":"TasksServiceCreateTaskDraftRequestBody","type":"object","properties":{"post_image":{"type":"string","description":"фотография для постов","example":"Et molestiae quam beatae quas eum."},"text_template":{"type":"string","description":"шаблон для подписи под постом","example":"Sunt officia inventore."},"title":{"type":"string","description":"название задачи","example":"Possimus deleniti."}},"example":{"post_image":"Veniam qui.","text_template":"Ut commodi inventore libero et accusantium commodi.","title":"Aliquam nihil."},"required":["title","text_template","post_image"]},"TasksServiceUploadFileRequestBody":{"title":"TasksServiceUploadFileRequestBody","type":"object","properties":{"bots":{"type":"array","items":{"$ref":"#/definitions/BotAccountRecordRequestBody"},"description":"список ботов","example":[{"line_number":6957168655539073176,"record":["Deserunt eum ea et.","Quia reprehenderit."]},{"line_number":6957168655539073176,"record":["Deserunt eum ea et.","Quia reprehenderit."]},{"line_number":6957168655539073176,"record":["Deserunt eum ea et.","Quia reprehenderit."]},{"line_number":6957168655539073176,"record":["Deserunt eum ea et.","Quia reprehenderit."]}]},"proxies":{"type":"array","items":{"$ref":"#/definitions/ProxyRecordRequestBody"},"description":"список проксей для использования","example":[{"line_number":44191890423975802,"record":["Laudantium veniam ratione culpa non ad.","Est dolorem corporis fugit fugiat.","Quisquam itaque nisi."]},{"line_number":44191890423975802,"record":["Laudantium veniam ratione culpa non ad.","Est dolorem corporis fugit fugiat.","Quisquam itaque nisi."]},{"line_number":44191890423975802,"record":["Laudantium veniam ratione culpa non ad.","Est dolorem corporis fugit fugiat.","Quisquam itaque nisi."]},{"line_number":44191890423975802,"record":["Laudantium veniam ratione culpa non ad.","Est dolorem corporis fugit fugiat.","Quisquam itaque nisi."]}]},"targets":{"type":"array","items":{"$ref":"#/definitions/TargetUserRecordRequestBody"},"description":"список аккаунтов, которым показать надо рекламу","example":[{"line_number":5176427869412771911,"record":["Impedit doloremque qui magni molestiae fugiat.","Excepturi eos aspernatur."]},{"line_number":5176427869412771911,"record":["Impedit doloremque qui magni molestiae fugiat.","Excepturi eos aspernatur."]},{"line_number":5176427869412771911,"record":["Impedit doloremque qui magni molestiae fugiat.","Excepturi eos aspernatur."]},{"line_number":5176427869412771911,"record":["Impedit doloremque qui magni molestiae fugiat.","Excepturi eos aspernatur."]}]}},"example":{"bots":[{"line_number":6957168655539073176,"record":["Deserunt eum ea et.","Quia reprehenderit."]},{"line_number":6957168655539073176,"record":["Deserunt eum ea et.","Quia reprehenderit."]},{"line_number":6957168655539073176,"record":["Deserunt eum ea et.","Quia reprehenderit."]},{"line_number":6957168655539073176,"record":["Deserunt eum ea et.","Quia reprehenderit."]}],"proxies":[{"line_number":44191890423975802,"record":["Laudantium veniam ratione culpa non ad.","Est dolorem corporis fugit fugiat.","Quisquam itaque nisi."]},{"line_number":44191890423975802,"record":["Laudantium veniam ratione culpa non ad.","Est dolorem corporis fugit fugiat.","Quisquam itaque nisi."]}],"targets":[{"line_number":5176427869412771911,"record":["Impedit doloremque qui magni molestiae fugiat.","Excepturi eos aspernatur."]},{"line_number":5176427869412771911,"record":["Impedit doloremque qui magni molestiae fugiat.","Excepturi eos aspernatur."]}]},"required":["bots","proxies","targets"]},"UploadErrorResponse":{"title":"UploadErrorResponse","type":"object","properties":{"input":{"type":"string","description":"номер порта","example":"Porro sed."},"line":{"type":"integer","example":8927489701869832308,"format":"int64"},"reason":{"type":"string","example":"Molestiae voluptatem."},"type":{"type":"integer","description":" 1 - список ботов\n    2 - список прокси\n    3 - список получателей рекламы","example":2,"enum":[1,2,3]}},"example":{"input":"Qui impedit perferendis.","line":6428177388369134679,"reason":"Ducimus voluptate hic dicta impedit.","type":1},"required":["type","line","input","reason"]}},"securityDefinitions":{"basic_header_Authorization":{"type":"basic","description":"Basic authentication used to authenticate security principal during signin\n\n**Security Scopes**:\n  * `driver`: Read-only access"},"jwt_header_Authorization":{"type":"apiKey","description":"Secures endpoint by requiring a valid JWT token retrieved via the signin endpoint. Supports scopes \"api:read\" and \"api:write\".\n\n**Security Scopes**:\n  * `driver`: Read-only access\n  * `admin`: Read and write access","name":"Authorization","in":"header"}}}