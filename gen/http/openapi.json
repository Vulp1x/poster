{"swagger":"2.0","info":{"title":"REST api for simple route app","version":""},"host":"localhost:80","consumes":["application/json","application/xml","application/gob"],"produces":["application/json","application/xml","application/gob"],"paths":{"/api/admin/driver":{"post":{"tags":["admin_service"],"summary":"add_manager admin_service","description":"admins could add drivers from main system\n\n**Required security scopes for jwt**:\n  * `admin`","operationId":"admin_service#add_manager","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":false,"type":"string"},{"name":"add_manager_request_body","in":"body","required":true,"schema":{"$ref":"#/definitions/AdminServiceAddManagerRequestBody","required":["login","password"]}}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"403":{"description":"Forbidden response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/admin/driver/{manager_id}":{"delete":{"tags":["admin_service"],"summary":"drop_manager admin_service","description":"admins could delete managers from main system\n\n**Required security scopes for jwt**:\n  * `admin`","operationId":"admin_service#drop_manager","parameters":[{"name":"manager_id","in":"path","description":"id менеджера, которого необходимо удалить","required":true,"type":"string","format":"uuid"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":false,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"403":{"description":"Forbidden response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response."}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/profile":{"get":{"tags":["auth_service"],"summary":"profile auth_service","description":"get user profile","operationId":"auth_service#profile","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/signin":{"post":{"tags":["auth_service"],"summary":"signin auth_service","description":"Creates a valid JWT","operationId":"auth_service#signin","parameters":[{"name":"Authorization","in":"header","description":"Basic Auth security using Basic scheme (https://tools.ietf.org/html/rfc7617)","required":true,"type":"string"}],"responses":{"200":{"description":"OK response.","schema":{"$ref":"#/definitions/AuthServiceSigninResponseBody","required":["jwt"]}},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"basic_header_Authorization":[]}]}},"/api/tasks/":{"get":{"tags":["tasks_service"],"summary":"list tasks tasks_service","description":"получить все задачи для текущего пользователя","operationId":"tasks_service#list tasks","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/draft":{"post":{"tags":["tasks_service"],"summary":"create task draft tasks_service","description":"создать драфт задачи","operationId":"tasks_service#create task draft","parameters":[{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"},{"name":"Create Task DraftRequestBody","in":"body","required":true,"schema":{"$ref":"#/definitions/TasksServiceCreateTaskDraftRequestBody","required":["title","text_template","post_image"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"string","format":"uuid"}},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/":{"get":{"tags":["tasks_service"],"summary":"get task tasks_service","description":"получить задачу по id","operationId":"tasks_service#get task","parameters":[{"name":"task_id","in":"path","description":"id задачи","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/assign":{"post":{"tags":["tasks_service"],"summary":"assign proxies tasks_service","description":"присвоить ботам прокси","operationId":"tasks_service#assign proxies","parameters":[{"name":"task_id","in":"path","description":"id задачи","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/force":{"delete":{"tags":["tasks_service"],"summary":"force delete tasks_service","description":"удалить задачу и все связанные с ней сущности. Использовать только для тестов","operationId":"tasks_service#force delete","parameters":[{"name":"task_id","in":"path","description":"id задачи","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/start":{"post":{"tags":["tasks_service"],"summary":"start task tasks_service","description":"начать выполнение задачи ","operationId":"tasks_service#start task","parameters":[{"name":"task_id","in":"path","description":"id задачи","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/stop":{"post":{"tags":["tasks_service"],"summary":"stop task tasks_service","description":"остановить выполнение задачи ","operationId":"tasks_service#stop task","parameters":[{"name":"task_id","in":"path","description":"id задачи","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"}],"responses":{"200":{"description":"OK response."},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}},"/api/tasks/{task_id}/upload":{"post":{"tags":["tasks_service"],"summary":"upload file tasks_service","description":"загрузить файл с пользователями, прокси","operationId":"tasks_service#upload file","consumes":["multipart/form-data"],"parameters":[{"name":"task_id","in":"path","description":"id задачи, в которую загружаем пользователей/прокси","required":true,"type":"string"},{"name":"Authorization","in":"header","description":"JWT used for authentication","required":true,"type":"string"},{"name":"Upload FileRequestBody","in":"formData","required":true,"schema":{"$ref":"#/definitions/TasksServiceUploadFileRequestBody","required":["bots","proxies","targets"]}}],"responses":{"200":{"description":"OK response.","schema":{"type":"array","items":{"$ref":"#/definitions/UploadErrorResponse"}}},"400":{"description":"Bad Request response.","schema":{"type":"string"}},"401":{"description":"Unauthorized response.","schema":{"type":"string"}},"404":{"description":"Not Found response.","schema":{"type":"string"}},"500":{"description":"Internal Server Error response.","schema":{"type":"string"}}},"schemes":["http"],"security":[{"jwt_header_Authorization":[]}]}}},"definitions":{"AdminServiceAddManagerRequestBody":{"title":"AdminServiceAddManagerRequestBody","type":"object","properties":{"login":{"type":"string","example":"Perspiciatis non id."},"password":{"type":"string","example":"zlr","minLength":4}},"example":{"login":"Alias blanditiis provident voluptatem.","password":"tdb"},"required":["login","password"]},"AuthServiceSigninResponseBody":{"title":"AuthServiceSigninResponseBody","type":"object","properties":{"jwt":{"type":"string","description":"JWT token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"}},"example":{"jwt":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ"},"required":["jwt"]},"BotAccountRecordRequestBody":{"title":"BotAccountRecordRequestBody","type":"object","properties":{"line_number":{"type":"integer","description":"номер строки в исходном файле","example":6422064375054389602,"format":"int64"},"record":{"type":"array","items":{"type":"string","example":"Ea numquam."},"example":["Ut et iusto eum veniam.","Quas dolor deleniti nesciunt.","A dolor."],"minItems":4,"maxItems":4}},"example":{"line_number":3025855469475495301,"record":["Consequatur rerum.","Ab qui excepturi laborum.","Qui quos nostrum mollitia consequuntur."]},"required":["record","line_number"]},"ProxyRecordRequestBody":{"title":"ProxyRecordRequestBody","type":"object","properties":{"line_number":{"type":"integer","description":"номер строки в исходном файле","example":7319450387844346941,"format":"int64"},"record":{"type":"array","items":{"type":"string","example":"Ex ipsa."},"example":["Quia rem nostrum sint dolorum.","Blanditiis ex alias.","Dolores laboriosam vel velit doloremque."],"minItems":4,"maxItems":4}},"example":{"line_number":7043087570200238910,"record":["Quas nisi sapiente eos debitis in et.","Et dolorem qui qui libero voluptatum.","Quam eius amet assumenda."]},"required":["record","line_number"]},"TargetUserRecordRequestBody":{"title":"TargetUserRecordRequestBody","type":"object","properties":{"line_number":{"type":"integer","description":"номер строки в исходном файле","example":215687653494101828,"format":"int64"},"record":{"type":"array","items":{"type":"string","example":"Et pariatur."},"example":["Nam qui quibusdam in pariatur.","Ratione quas molestias quaerat corporis."],"minItems":2,"maxItems":2}},"example":{"line_number":5667556114527130137,"record":["Velit excepturi consequatur.","Itaque cupiditate."]},"required":["record","line_number"]},"TasksServiceCreateTaskDraftRequestBody":{"title":"TasksServiceCreateTaskDraftRequestBody","type":"object","properties":{"post_image":{"type":"string","description":"фотография для постов","example":"Aut nobis aut eum enim reprehenderit."},"text_template":{"type":"string","description":"шаблон для подписи под постом","example":"Velit nostrum optio pariatur."},"title":{"type":"string","description":"название задачи","example":"Eos iste et."}},"example":{"post_image":"Velit qui enim.","text_template":"Dolores molestiae sit sit voluptatem quo.","title":"Reiciendis dicta quibusdam."},"required":["title","text_template","post_image"]},"TasksServiceUploadFileRequestBody":{"title":"TasksServiceUploadFileRequestBody","type":"object","properties":{"bots":{"type":"array","items":{"$ref":"#/definitions/BotAccountRecordRequestBody"},"description":"список ботов","example":[{"line_number":2724879934005373904,"record":["Necessitatibus deserunt eum ea.","Adipisci quia reprehenderit repellendus est tenetur consequatur.","Veniam ratione culpa."]},{"line_number":2724879934005373904,"record":["Necessitatibus deserunt eum ea.","Adipisci quia reprehenderit repellendus est tenetur consequatur.","Veniam ratione culpa."]},{"line_number":2724879934005373904,"record":["Necessitatibus deserunt eum ea.","Adipisci quia reprehenderit repellendus est tenetur consequatur.","Veniam ratione culpa."]},{"line_number":2724879934005373904,"record":["Necessitatibus deserunt eum ea.","Adipisci quia reprehenderit repellendus est tenetur consequatur.","Veniam ratione culpa."]}]},"proxies":{"type":"array","items":{"$ref":"#/definitions/ProxyRecordRequestBody"},"description":"список проксей для использования","example":[{"line_number":6373588431339295647,"record":["Est dolorem corporis fugit fugiat.","Quisquam itaque nisi.","Voluptatem natus."]},{"line_number":6373588431339295647,"record":["Est dolorem corporis fugit fugiat.","Quisquam itaque nisi.","Voluptatem natus."]},{"line_number":6373588431339295647,"record":["Est dolorem corporis fugit fugiat.","Quisquam itaque nisi.","Voluptatem natus."]},{"line_number":6373588431339295647,"record":["Est dolorem corporis fugit fugiat.","Quisquam itaque nisi.","Voluptatem natus."]}]},"targets":{"type":"array","items":{"$ref":"#/definitions/TargetUserRecordRequestBody"},"description":"список аккаунтов, которым показать надо рекламу","example":[{"line_number":4094789948831010935,"record":["Qui magni molestiae.","Voluptas excepturi."]},{"line_number":4094789948831010935,"record":["Qui magni molestiae.","Voluptas excepturi."]}]}},"example":{"bots":[{"line_number":2724879934005373904,"record":["Necessitatibus deserunt eum ea.","Adipisci quia reprehenderit repellendus est tenetur consequatur.","Veniam ratione culpa."]},{"line_number":2724879934005373904,"record":["Necessitatibus deserunt eum ea.","Adipisci quia reprehenderit repellendus est tenetur consequatur.","Veniam ratione culpa."]}],"proxies":[{"line_number":6373588431339295647,"record":["Est dolorem corporis fugit fugiat.","Quisquam itaque nisi.","Voluptatem natus."]},{"line_number":6373588431339295647,"record":["Est dolorem corporis fugit fugiat.","Quisquam itaque nisi.","Voluptatem natus."]},{"line_number":6373588431339295647,"record":["Est dolorem corporis fugit fugiat.","Quisquam itaque nisi.","Voluptatem natus."]}],"targets":[{"line_number":4094789948831010935,"record":["Qui magni molestiae.","Voluptas excepturi."]},{"line_number":4094789948831010935,"record":["Qui magni molestiae.","Voluptas excepturi."]},{"line_number":4094789948831010935,"record":["Qui magni molestiae.","Voluptas excepturi."]}]},"required":["bots","proxies","targets"]},"UploadErrorResponse":{"title":"UploadErrorResponse","type":"object","properties":{"input":{"type":"string","description":"номер порта","example":"Nihil exercitationem saepe quidem neque perspiciatis rerum."},"line":{"type":"integer","example":1789036758941930528,"format":"int64"},"reason":{"type":"string","example":"Sunt omnis reiciendis illo maiores dolorem quia."},"type":{"type":"integer","description":" 1 - список ботов\n    2 - список прокси\n    3 - список получателей рекламы","example":3,"enum":[1,2,3]}},"example":{"input":"Labore consequuntur explicabo perspiciatis et.","line":2606336897386619681,"reason":"Cumque et.","type":2},"required":["type","line","input","reason"]}},"securityDefinitions":{"basic_header_Authorization":{"type":"basic","description":"Basic authentication used to authenticate security principal during signin\n\n**Security Scopes**:\n  * `driver`: Read-only access"},"jwt_header_Authorization":{"type":"apiKey","description":"Secures endpoint by requiring a valid JWT token retrieved via the signin endpoint. Supports scopes \"api:read\" and \"api:write\".\n\n**Security Scopes**:\n  * `driver`: Read-only access\n  * `admin`: Read and write access","name":"Authorization","in":"header"}}}